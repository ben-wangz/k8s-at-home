replicas: 1
commonLabels: {}
commonAnnotations: {}
podLabels: {}
podAnnotations: {}
revisionHistoryLimit: 10
updateStrategy: {}
imagePullSecrets: []
affinity: {}
podAffinityPreset: ""
podAntiAffinityPreset: "soft"
nodeAffinityPreset:
  type: "none"
  key: ""
  values: []
podSecurityContext:
  enabled: true
  fsGroupChangePolicy: Always
  supplementalGroups: []
  fsGroup: 1001
nodeSelector: {}
tolerations: []
extraVolumes: []
image:
  repository: docker.io/dreamacro/clash
  tag: v1.18.0
  pullPolicy: IfNotPresent
ports:
  http: 7890
  controller: 9090
timezone: "Asia/Shanghai"
extraEnvVars: {}
extraEnvVarsSecret: ""
extraVolumeMounts: []
resourcesPreset: "medium"
customLivenessProbe: {}
customReadinessProbe: {}
customStartupProbe: {}
persistence:
  enabled: false
  storageClass: ""
  existingClaim: ""
  accessModes:
    - ReadWriteOnce
  size: 1Gi
  subPath: ""
  annotations: {}
  selector: {}
  dataSource: {}
config:
  existingSecret: ""
  # if existingSecret is not set, configContent will be used
  # configContent: |-
  #   port: 7890
  #   socks-port: 7891
  #   redir-port: 7892
  #   allow-lan: true
  #   mode: Rule
  #   log-level: info
  #   external-controller: 0.0.0.0:9090
  #   secret: ""

service:
  # Exposing proxy service(7890) via ingress is complex due to:
  # - Ingress Controllers (e.g. Nginx) are designed for regular HTTP services
  # - Proxy requests use absolute URLs in request line
  # - Host header is target server's domain, not ingress domain
  # - Path in proxy requests is unrelated to ingress path configuration
  # default: NodePort is used for simplicity
  type: NodePort
  ports:
    http: 7890
    httpNodePort: 31789
    controller: 9090
    controllerNodePort: 31909
  annotations: {}
  clusterIP: ""
  sessionAffinity: ""
  sessionAffinityConfig: {}
  externalTrafficPolicy: ""
  loadBalancerSourceRanges: []
  loadBalancerIP: ""
  loadBalancerClass: ""
  extraPorts: []
ingress:
  controller:
    enabled: false
    annotations: {}
    ingressClassName: nginx
    hostname: controller.clash.example.com
    path: /
    pathType: Prefix
    tls: false
extraDeploy: []